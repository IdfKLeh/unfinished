### README

기본적으로 제 모든 작업물은 actuallyworks 폴더가 다입니다.

basicallyuseless를 넣은 이유는 제가 한 삽질에 대한 증거품이자,
반성의 의미에서 넣었습니다.

####sqlite 를 사용한 블로그 글 정리 프로그램

실행했을 때 temp.txt에 있는 블로그의 제목, 장르, 링크를 토대로 sqlite에 있는 table에
삽입하여 관리하는 코드입니다.

추가적인 정보 삽입은 temp.txt에 양식에 맞게 편집하면 blog.db에 순서대로 삽입됩니다.

프로그램을 실행할 때 마다 반복적인 삽입을 막기 위해 프로그램이 종료 될 때
table의 모든 정보를 지우도록 해놨습니다.

그게.. 다입니다..













######이딴걸 왜 만들었냐 (과정)

이 프로그램을 제작하기로 한 이유는 temp.txt에 있는 블로그가 제가 자주 이용하는 블로그이기 때문입니다.
그 블로그의 주인이 언젠가 자신의 블로그에 랜덤 글 추천 기능이 있었으면 좋겠다는 말을 했었고, 제가 프로그램으로 구현해보고 싶었습니다.

그래서 시작할때 본래의 의도는, 네이버 블로그 글에서 각 글의 제목, 장르, 링크를 모두 str형식으로 구해와서, 그것을 모두 구분한 뒤(아마 한 줄 단위로 작성하여 ,를 기준으로 단어를 나누는, 그런 프로그램을 생각했었습니다. 수업에서 배운 것과 비슷하게),
자동으로 블로그 제목별 table을 제작하고 그 곳에 자동으로 삽입하는 프로그램을 생각 했었습니다. 

또한 프로젝트는 C언어로 제작할 계획이었습니다. 제가 그나마 편한 언어이기 때문입니다. 지금와서는 얼마나 안일한 생각이었는지 후회가 됩니다.

무튼 위의 이유로 sqlite3의 아말감버젼을 홈페이지에서 다운 받은 뒤, 헤더 파일들을 프로젝트에 넣고, lib을 생성하여 프로젝트의 라이브러리 디렉터리에 경로를 추가하여 작동이 되게 하였습니다.
visual studio C 에서의 sqlite 환경의 구현은 완성되었습니다.

그 이후로는 html페이지에서 원하는 정보를 가져오는 것이었습니다. 그런데 검색결과 C에서의 그것의 구현은 매우 복잡하고 비효율적이라는 내용이 많아, 파이썬에서 구현하기로 하였습니다. 파이썬에서는 BeautifulSoup, Requests등 html 파싱과 크롤링을
편하게 해주는 다양한 패키지가 있다는 내용을 보았기 때문입니다.
그래서 제가 생각했던 방법은 .py파일로 네이버 블로그의 글들을 모두 .txt로 정리 하는 파일을 만들고, C에서 그 py를 호출하여 작동 시킨 뒤 만들어진 txt를 이용하여 데이터베이스를 만들려 했습니다.
.py 파일이 C에서 호출되고 작동되기 위해선 임베딩이 필요하다 생각했기 때문에 python을 visual studio C에 임베딩 시키고자 했습니다.
Python.h를 프로젝트에 넣고, 또 위와 같이 lib의 경로를 디렉터리에 추가하여 작동이 되게 하였습니다.(이 과정에서 제가 받았던 sqlite3은 x86인데 python은 x64이라 좀 더 헤맸습니다.)

대충 작업환경은 갖춰진 것 같아 beautifulsoup를 이용하여 블로그의 html파일에서 필요한 정보를 파싱해오려 했습니다.
왜인지 정확히 모르겠지만, 네이버 블로그의 html파일은 좀 숨겨져 있는 듯 했습니다. 아마도 불법적인 목적으로 사용되는 크롤링 등을 방지하기 위해서가 아닌가 싶습니다.
제겐 정말 나쁜 소식이었습니다. 아무리 url을 깊숙한 곳에서 따와도, 결국 가져오는 html에는 제목, 장르등 제가 필요한 정보들의 텍스트가 포함되어 있지 않았습니다.
결국 블로그의 링크에서 직접 정보를 읽어오는 방식은 포기하게 되었습니다.

그래서 그냥 필요한 정보를 제가 직접 짧은 txt파일로 제작하였습니다. 어차피 만약 파싱에 성공했다면, 그런 형식의 txt를 만드려 했으니 C에서 이 파일을 이용하여 데이터베이스를 만드는 것 만이라도 해보려 하였습니다.
제가 C 파일에서 의도한 것은 txt파일을 줄별로 읽고, ","별로 단어를 구분하여 각 단어의 case를 구분해놓아 순서대로 제목, 장르, 링크에 삽입하는 것이었습니다.
그러나 sqlite 구문에서 막히게 되었습니다.
sqlite 구문들은 각자의 컴파일러에서 따로하게 되어 visual studio에서 오류를 찾을 수가 없습니다. 그래서 무언갈 틀려도 오류로는 표시되지 않고, 컴파일할때 그저 정상적으로 컴파일 되지 않아 틀렸다는 것만 알 수 있었습니다.
제가 어떤 구문을 어떻게 잘못썼는지도 알 수 없고, 검색해봤을때도 생소한 영문 페이지 및 저와는 다른 예시 뿐이라 알아내기 어려웠습니다. 이런 이유로 이것 또한 거의 포기하게 되었습니다.

여기까지의 과정이 basicallyuseless에 담겨있습니다. 제 환경에서는 말씀드린대로 sqlite, python이 C에서 구현되었지만 다른 컴퓨터에서는 경로가 다르기 때문에 안될 수도 있습니다.(게다가 어차피 sqlite 구문들이 모두 틀려 작동하지 않습니다. 혹시라도 코드등을 열어보신다면 그냥 무엇을 시도했는지 읽어만 보실 수 있을 듯 합니다.)

그러다가 검색의 과정에서 파이썬이 눈에 들어왔습니다. 파이썬에는 sqlite3이 내장되어있어 import하기만하면 되었고, 그것을 사용하는 문법 또한 C의 것보다 훨씬 간단했습니다.
그래서 짧은 시간동안 만들 수 있던 프로그램이 actuallyworks입니다.


######정리하며

위의 내용은 사실 읽지 않으셔도 된다고 생각합니다.
그냥 제가 겪은 과정을 저 스스로 정리할 겸, 누군가에게 털어놓고 싶은 마음도 있었고, 제 스스로에게 핑곗거리도 만들어 주고 싶었습니다.

사실 제가 겪은 모든 문제들은 제가 시간과 노력을 더 투자했다면 아마도 대부분 해결 되었을 거라고 생각합니다. 그렇기 때문에 위의 모든 과정들이 채점의 목적에선 아무런 의미가 없습니다.
그러나 이 일들을 제가 잊고 싶지 않았고, 어쩌면 교수님이 이런걸 프로젝트라고 왜 냈지 라고 생각하실 것 같아서 작성하였습니다.

이번 학기에 웹프로그래밍, 데이터베이스, 그리고 오픈소스프로그래밍을 듣게 되었는데, 만약 제가 처음 생각했던 대로 C에서 기능도 모두 구현했더라면 그 세개의 수업의 이해에 큰 도움이 되는 매우 유의미한 프로젝트였을 것이라고 생각합니다.
순수히 제 노력과 지식 부족으로 기간내에 그것은 어렵게 되었지만, 이 미완성 프로젝트들은 제 git에 올리고 생각날때 조금씩 수정해가면서 언젠가는 제가 원래 목표로 했던 것을 완성하여 저와 함께 성장할 수 있을 것 같습니다.

그리고 검색, 제작의 과정에서 많은걸 배울 수 있었습니다. 부족하게나마 스스로 해보려고 시도했기 때문에 새로운 것들을 습득할 수 있었습니다.
좋은 수업을 통해 좋은 기회를 마련해 주셔서 정말 감사합니다. 한 학기 동안 고생하셨습니다.


참고자료: 
https://blog.naver.com/PostView.naver?blogId=zilu11&logNo=221255032410&parentCategoryNo=&categoryNo=&viewDate=&isShowPopularPosts=false&from=postView   (의 많은 글들)
https://mangsby.com/blog/programming/c/c-c-sqlite-%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B2%A0%EC%9D%B4%EC%8A%A4-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0-1-%EA%B8%B0%EB%B3%B8-%EB%B2%88%EC%97%AD/
https://dojang.io/mod/page/view.php?id=1824
https://wikidocs.net/110975
https://web-programming-info.tistory.com/10
& 수업 과제물에 사용한 코드
외에도 많은 링크가 도움되었지만 제 프로젝트에 실제로 사용된 링크만 넣었습니다.

git에는 actuallyworks 파일만 올렸습니다. C로 구현하게 되면 다른것도 올릴 생각입니다.